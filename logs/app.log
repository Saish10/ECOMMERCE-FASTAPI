2025-03-08 12:59:50,102 | INFO | order.py | get_orders | Order list retrieved successfully
2025-03-08 13:01:04,637 | ERROR | main.py | error_endpoint | Error endpoint called
NoneType: None
2025-03-08 13:03:31,121 | INFO | main.py | error_endpoint | Error endpoint called
2025-03-08 13:04:03,273 | INFO | main.py | error_endpoint | Error endpoint called
NoneType: None
2025-03-08 13:05:55,346 | ERROR | main.py | error_endpoint | An error occurred: division by zero
Traceback (most recent call last):
  File "/Users/saish/projects/cc_test/app/main.py", line 20, in error_endpoint
    1 / 0
    ~~^~~
ZeroDivisionError: division by zero
2025-03-08 14:17:20,053 | INFO | order.py | get_orders | Order list retrieved successfully
2025-03-08 14:39:07,122 | INFO | order.py | get_orders | Order list retrieved successfully
2025-03-08 14:40:12,809 | INFO | order.py | get_orders | Order list retrieved successfully
2025-03-08 14:40:35,439 | INFO | order.py | get_orders | Order list retrieved successfully
2025-03-08 14:41:18,164 | INFO | order.py | get_orders | Order list retrieved successfully
2025-03-08 14:49:14,084 | INFO | order.py | get_orders | Order list retrieved successfully
2025-03-08 14:49:52,250 | INFO | order.py | get_orders | Order list retrieved successfully
2025-03-08 14:51:16,212 | INFO | order.py | get_orders | Order list retrieved successfully
2025-03-08 14:51:37,585 | INFO | order.py | get_orders | Order list retrieved successfully
2025-03-08 14:51:47,602 | INFO | order.py | get_orders | Order list retrieved successfully
2025-03-08 15:11:07,006 | ERROR | order.py | create_order | Unexpected error while creating order: 404: Customer not found
Traceback (most recent call last):
  File "/Users/saish/projects/cc_test/app/services/order.py", line 24, in create_order
    raise HTTPException(
        status_code=404, detail="Customer not found"
    )
fastapi.exceptions.HTTPException: 404: Customer not found
2025-03-08 15:11:43,971 | ERROR | order.py | create_order | Unexpected error while creating order: 404: Customer not found
Traceback (most recent call last):
  File "/Users/saish/projects/cc_test/app/services/order.py", line 24, in create_order
    raise HTTPException(
        status_code=404, detail="Customer not found"
    )
fastapi.exceptions.HTTPException: 404: Customer not found
2025-03-08 15:12:07,082 | ERROR | order.py | create_order | Unexpected error while creating order: 404: Customer not found
Traceback (most recent call last):
  File "/Users/saish/projects/cc_test/app/services/order.py", line 24, in create_order
    raise HTTPException(
        status_code=404, detail="Customer not found"
    )
fastapi.exceptions.HTTPException: 404: Customer not found
2025-03-08 15:12:39,980 | ERROR | order.py | create_order | Unexpected error while creating order: 404: Customer not found
Traceback (most recent call last):
  File "/Users/saish/projects/cc_test/app/services/order.py", line 24, in create_order
    raise HTTPException(
        status_code=404, detail="Customer not found"
    )
fastapi.exceptions.HTTPException: 404: Customer not found
2025-03-08 15:13:26,579 | ERROR | order.py | create_order | Unexpected error while creating order: 404: Customer not found
Traceback (most recent call last):
  File "/Users/saish/projects/cc_test/app/services/order.py", line 24, in create_order
    raise HTTPException(
        status_code=404, detail="Customer not found"
    )
fastapi.exceptions.HTTPException: 404: Customer not found
2025-03-08 15:14:03,537 | ERROR | order.py | create_order | Unexpected error while creating order: 404: Customer not found
Traceback (most recent call last):
  File "/Users/saish/projects/cc_test/app/services/order.py", line 24, in create_order
    raise HTTPException(
        status_code=404, detail="Customer not found"
    )
fastapi.exceptions.HTTPException: 404: Customer not found
2025-03-08 15:17:58,833 | ERROR | order.py | create_order | Unexpected error while creating order: 404: Customer not found
Traceback (most recent call last):
  File "/Users/saish/projects/cc_test/app/services/order.py", line 24, in create_order
    raise HTTPException(
        status_code=404, detail="Customer not found"
    )
fastapi.exceptions.HTTPException: 404: Customer not found
2025-03-08 15:18:15,481 | ERROR | order.py | create_order | Unexpected error while creating order: 404: Customer not found
Traceback (most recent call last):
  File "/Users/saish/projects/cc_test/app/services/order.py", line 24, in create_order
    raise HTTPException(
        status_code=404, detail="Customer not found"
    )
fastapi.exceptions.HTTPException: 404: Customer not found
2025-03-08 15:27:35,143 | INFO | order.py | create_order | Order created successfully with ID: 9
2025-03-08 15:28:59,570 | INFO | order.py | create_order | Order created successfully with ID: 10
2025-03-08 15:29:19,865 | INFO | order.py | create_order | Order created successfully with ID: 11
2025-03-08 15:29:42,745 | INFO | order.py | create_order | Order created successfully with ID: 12
2025-03-08 15:45:21,129 | INFO | order.py | create_order | Order created successfully with ID: 13
2025-03-08 18:52:22,834 | ERROR | products.py | delete_product | Error deleting product: 400: Product not found.
Traceback (most recent call last):
  File "/Users/saish/projects/cc_test/app/services/products.py", line 56, in delete_product
    raise HTTPException(status_code=400, detail="Product not found.")
fastapi.exceptions.HTTPException: 400: Product not found.
2025-03-08 18:52:36,057 | ERROR | products.py | delete_product | Error deleting product: 400: Product not found.
Traceback (most recent call last):
  File "/Users/saish/projects/cc_test/app/services/products.py", line 56, in delete_product
    raise HTTPException(status_code=400, detail="Product not found.")
fastapi.exceptions.HTTPException: 400: Product not found.
2025-03-08 18:54:30,125 | ERROR | products.py | delete_product | Error deleting product: 400: Product not found.
Traceback (most recent call last):
  File "/Users/saish/projects/cc_test/app/services/products.py", line 56, in delete_product
    raise HTTPException(status_code=400, detail="Product not found.")
fastapi.exceptions.HTTPException: 400: Product not found.
2025-03-08 20:42:15,721 | INFO | order.py | get_orders | Order list retrieved successfully
2025-03-08 20:43:28,110 | INFO | order.py | create_order | Order created successfully with ID: 14
2025-03-08 20:43:35,596 | INFO | order.py | get_orders | Order list retrieved successfully
2025-03-08 20:43:40,548 | INFO | order.py | get_orders | Order list retrieved successfully
2025-03-08 20:43:44,972 | INFO | order.py | get_orders | Order list retrieved successfully
2025-03-08 20:53:12,372 | INFO | order.py | get_orders | Order list retrieved successfully
2025-03-08 20:53:18,635 | INFO | order.py | get_orders | Order list retrieved successfully
2025-03-08 20:53:23,684 | INFO | order.py | get_orders | Order list retrieved successfully
2025-03-08 20:58:11,790 | INFO | order.py | create_order | Order created successfully with ID: 15
2025-03-08 21:02:39,446 | INFO | order.py | get_orders | Order list retrieved successfully
2025-03-08 21:03:41,795 | ERROR | order.py | delete_order | Error deleting order: (psycopg2.errors.NotNullViolation) null value in column "order_id" of relation "order_items" violates not-null constraint
DETAIL:  Failing row contains (14, null, 4, 1, 84000.00).

[SQL: UPDATE order_items SET order_id=%(order_id)s WHERE order_items.id = %(order_items_id)s]
[parameters: {'order_id': None, 'order_items_id': 14}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "/Users/saish/projects/cc_test/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/saish/projects/cc_test/venv/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "order_id" of relation "order_items" violates not-null constraint
DETAIL:  Failing row contains (14, null, 4, 1, 84000.00).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/saish/projects/cc_test/app/services/order.py", line 151, in delete_order
    self.db.flush()
    ~~~~~~~~~~~~~^^
  File "/Users/saish/projects/cc_test/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "/Users/saish/projects/cc_test/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "/Users/saish/projects/cc_test/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/saish/projects/cc_test/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/saish/projects/cc_test/venv/lib/python3.13/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "/Users/saish/projects/cc_test/venv/lib/python3.13/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "/Users/saish/projects/cc_test/venv/lib/python3.13/site-packages/sqlalchemy/orm/persistence.py", line 85, in save_obj
    _emit_update_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        update,
        ^^^^^^^
    )
    ^
  File "/Users/saish/projects/cc_test/venv/lib/python3.13/site-packages/sqlalchemy/orm/persistence.py", line 912, in _emit_update_statements
    c = connection.execute(
        statement, multiparams, execution_options=execution_options
    )
  File "/Users/saish/projects/cc_test/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Users/saish/projects/cc_test/venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/saish/projects/cc_test/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Users/saish/projects/cc_test/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/saish/projects/cc_test/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/saish/projects/cc_test/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/saish/projects/cc_test/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/saish/projects/cc_test/venv/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.IntegrityError: (psycopg2.errors.NotNullViolation) null value in column "order_id" of relation "order_items" violates not-null constraint
DETAIL:  Failing row contains (14, null, 4, 1, 84000.00).

[SQL: UPDATE order_items SET order_id=%(order_id)s WHERE order_items.id = %(order_items_id)s]
[parameters: {'order_id': None, 'order_items_id': 14}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-08 21:13:40,362 | INFO | order.py | get_orders | Order list retrieved successfully
2025-03-08 21:15:26,379 | ERROR | order.py | delete_order | Error deleting order: 'Product' object has no attribute 'status'
Traceback (most recent call last):
  File "/Users/saish/projects/cc_test/app/services/order.py", line 165, in delete_order
    if product and product.status != "Completed":
                   ^^^^^^^^^^^^^^
AttributeError: 'Product' object has no attribute 'status'
2025-03-08 21:17:51,768 | INFO | order.py | delete_order | Order deleted successfully
2025-03-08 21:23:51,159 | INFO | order.py | get_orders | Order list retrieved successfully
